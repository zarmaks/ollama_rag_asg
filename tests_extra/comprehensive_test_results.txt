python tests_extra/comprehensive_test_clean.py
ğŸš€ CloudSphere FAQ-RAG System - Comprehensive Test Suite
======================================================================
This will test your FastAPI-based FAQ service with CloudSphere knowledge base
ğŸ” Checking API availability...
âœ… API is responding (Status: 404)

ğŸ¯ Starting comprehensive testing...

â¸ï¸  Press Enter to start basic functionality tests...


======================================================================
  Testing Basic FAQ Functionality
======================================================================


ğŸ” Test 1/6: Product Overview
â“ Question: 'What is CloudSphere Platform and who is it for?'
--------------------------------------------------
â° Timeout: Request took longer than 60 seconds

ğŸ” Test 2/6: Pricing - Direct Match
â“ Question: 'How much does the Professional tier cost?'
--------------------------------------------------
â° Timeout: Request took longer than 60 seconds

ğŸ” Test 3/6: Trial Information
â“ Question: 'Do you offer a free trial?'
--------------------------------------------------
â° Timeout: Request took longer than 60 seconds

ğŸ” Test 4/6: Authentication Support
â“ Question: 'I forgot my password, how can I reset it?'
--------------------------------------------------
â° Timeout: Request took longer than 60 seconds

ğŸ” Test 5/6: Compliance & Security
â“ Question: 'What industry compliance certifications do you have?'
--------------------------------------------------
â° Timeout: Request took longer than 60 seconds

ğŸ” Test 6/6: API Technical Details
â“ Question: 'What are the API rate limits?'
--------------------------------------------------
â° Timeout: Request took longer than 60 seconds

--------------------------------------------------
  Basic Functionality Results: 0/6 successful
--------------------------------------------------

â¸ï¸  Press Enter to continue to edge cases testing...


======================================================================
  Testing Edge Cases & Error Handling
======================================================================


ğŸ§ª Edge Case 1: Empty question
ğŸ“¤ Payload: {'question': ''}
âš ï¸ Status: 200 (Unexpected)
ğŸ“ Response:  The question does not provide any specific query to answer. If you have a question related to Cloud...

ğŸ§ª Edge Case 2: Very short question
ğŸ“¤ Payload: {'question': '?'}
âœ… Status: 200 (Expected)
ğŸ“ Response:  The question seems to be missing. However, if you need information about installing CloudSphere on-...

ğŸ§ª Edge Case 3: Very long question
ğŸ“¤ Payload: {'question': 'What is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is CloudSphere?'}       
âŒ Exception: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=30)

ğŸ§ª Edge Case 4: Non-English question
ğŸ“¤ Payload: {'question': 'Î¤Î¹ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ CloudSphere Platform;'}
âœ… Status: 200 (Expected)
ğŸ“ Response:  The CloudSphere Platform is a unified cloud-native application and data-services suite designed for...

ğŸ§ª Edge Case 5: Special characters
ğŸ“¤ Payload: {'question': "What is CloudSphere's platform?"}
âœ… Status: 200 (Expected)
ğŸ“ Response:  CloudSphere Platform is a unified cloud-native application and data-services suite designed for sof...

ğŸ§ª Edge Case 6: Out of scope question
ğŸ“¤ Payload: {'question': "What's the weather like today?"}
âœ… Status: 200 (Expected)
ğŸ“ Response:  I'm sorry for any confusion, but CloudSphere Platform is a cloud-native application and data-servic...

ğŸ§ª Edge Case 7: Missing field
ğŸ“¤ Payload: {'wrong_field': 'test'}
âœ… Status: 422 (Expected)
ğŸ› ï¸  Error detail: [{'type': 'missing', 'loc': ['body', 'question'], 'msg': 'Field required', 'inpput': {'wrong_field': 'test'}}]

--------------------------------------------------
  Edge Cases Results: 5/7 handled as expected
--------------------------------------------------

â¸ï¸  Press Enter to continue to history testing...


======================================================================
  Testing History Endpoint
======================================================================

ğŸ“‹ Testing basic history retrieval...
âœ… History endpoint working - 10 interactions found
ğŸ“Š Sample interaction:
   Q: What's the weather like today?...
   A:  I'm sorry for any confusion, but CloudSphere Plat...
   Timestamp: 2025-07-20T22:16:53

ğŸ“‹ Testing history with limit=3...
âœ… Limited history working - 3 interactions returned
âœ… Limit parameter respected

â¸ï¸  Press Enter to continue to performance testing...


======================================================================
  Performance Analysis
======================================================================

â±ï¸  Running performance tests...
Note: First request may be slower due to model loading

ğŸ”„ Test 1/5: What is CloudSphere Platform?...
    Run 1: 21.20s
    Run 2: 18.52s
    Run 3: 18.76s
    Average: 19.49s

ğŸ”„ Test 2/5: How much does Professional cost?...
    Run 1: 5.24s
    Run 2: 4.61s
    Run 3: 5.53s
    Average: 5.13s

ğŸ”„ Test 3/5: What compliance certifications do you ha...
    Run 1: 16.72s
    Run 2: 15.62s
    Run 3: 15.53s
    Average: 15.96s

ğŸ”„ Test 4/5: How do I troubleshoot a failed deploymen...
    Run 1: 35.33s
    Run 2: 36.23s
    Run 3: 37.11s
    Average: 36.22s

ğŸ”„ Test 5/5: What are API rate limits and authenticat...
    Run 1: 31.21s
    Run 2: 27.90s
    Run 3: 28.98s
    Average: 29.36s


--------------------------------------------------
  Performance Summary
--------------------------------------------------
ğŸ“Š Total requests tested: 15
âš¡ Average response time: 21.23s
ğŸƒ Fastest response: 4.61s
ğŸŒ Slowest response: 37.11s

ğŸ“ˆ Performance distribution:
   ğŸŸ¢ Fast (<5s): 1 requests (6.7%)
   ğŸŸ¡ Medium (5-15s): 2 requests (13.3%)
   ğŸ”´ Slow (>15s): 12 requests (80.0%)

â¸ï¸  Press Enter to continue to knowledge coverage testing...


======================================================================
  Knowledge Base Coverage Test
======================================================================


ğŸ“š Testing Pricing & Billing coverage...
   âŒ What pricing tiers do you offer?... (Exception: HTTPConnectionPool(host='local)
   âœ… Do you have hidden fees?...
   âœ… What payment methods do you accept?...
   ğŸ“Š Pricing & Billing: 2/3 (66.7%)

ğŸ“š Testing Security & Compliance coverage...
   âœ… How is my data protected?...
   âœ… What compliance certifications do you ha...
   âœ… Do you support multi-factor authenticati...
   ğŸ“Š Security & Compliance: 3/3 (100.0%)

ğŸ“š Testing Technical Support coverage...
   âœ… What support channels are available?...
   âœ… How do I troubleshoot deployments?...
   âœ… What are your business hours?...
   ğŸ“Š Technical Support: 3/3 (100.0%)

ğŸ“š Testing API & Integration coverage...
   âœ… What are the API rate limits?...
   âœ… Do you provide SDKs?...
   âœ… How do I integrate with CI/CD?...
   ğŸ“Š API & Integration: 3/3 (100.0%)

ğŸ“š Testing Account Management coverage...
   âœ… How do I reset my password?...
   âœ… How do I upgrade my plan?...
   âœ… How do I close my account?...
   ğŸ“Š Account Management: 3/3 (100.0%)

--------------------------------------------------
  Knowledge Coverage Summary
--------------------------------------------------
ğŸŸ¡ Pricing & Billing: 66.7%
ğŸŸ¢ Security & Compliance: 100.0%
ğŸŸ¢ Technical Support: 100.0%
ğŸŸ¢ API & Integration: 100.0%
ğŸŸ¢ Account Management: 100.0%

ğŸ“ˆ Overall Knowledge Coverage: 93.3%

======================================================================
  ğŸ‰ Testing Complete - Final Summary
======================================================================

ğŸ“Š Test Results:
   ğŸ”§ Basic Functionality: 0.0% success rate
   ğŸ§ª Edge Cases: 71.4% handled correctly
   ğŸ“‹ History Endpoint: âœ… Working
   âš¡ Average Response Time: 21.23s
   ğŸ“š Knowledge Coverage: 93.3%

ğŸŸ¡ Overall System Health: 61.6%

ğŸ’¡ Recommendations:
   - Review knowledge base relevance and LLM prompt tuning
   - Consider optimizing LLM response time or adding caching
   - Monitor logs for any errors during testing
   - Consider adding more specific test cases for your use case

ğŸ Testing completed! Your CloudSphere FAQ-RAG system is needs optimization.